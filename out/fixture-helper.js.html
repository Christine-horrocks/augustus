<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: fixture-helper.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: fixture-helper.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const fs = require('fs');
const callsites = require('callsites');
/**
* This funcation takes in the path of the test file.
* It then replaces either the intergration or unit part of the file path with fixtures/json.
*/
function jsonFixturePath(path) {
    var split_path = path.split('/');
    split_path.splice(-1, 1);
    if (split_path.indexOf('intergration') > -1) {
      var index = split_path.indexOf('intergration');
        split_path[index] = 'fixtures/json';
    } else {
      var index = split_path.indexOf('unit');
      if (index !== -1) {
        split_path[index] = 'fixtures/json';
      }
    }
    return split_path.join('/');
}
/**
* This funcation takes in the path of the test file.
* It then replaces either the intergration or unit part of the file path with fixtures/html.
*/
function htmlFixturePath(path) {
    var split_path = path.split('/');
    split_path.splice(-1, 1);
    if (split_path.indexOf('intergration') > -1) {
      var index = split_path.indexOf('intergration');
      split_path[index] = 'fixtures/html';
    } else {
      var index = split_path.indexOf('unit');
      if (index !== -1) {
        split_path[index] = 'fixtures/html';
      }
    }
    return split_path.join('/');
}
/**
* This function takes the file path from the test file and passes it into the jsonFixturePath method along with the file name parameter and a json suffix.
* It returns the path to the fixture file which can then be used in the assert statement of the test.
*/
module.exports = {
    getJSONFixture: function(file_name) {
        var file_path = jsonFixturePath(callsites()[1].getFileName()) + '/' + file_name + '.json';
        return JSON.parse(fs.readFileSync(file_path, 'utf8'));
    },
/**
* This function takes the file path from the test file and passes it into the htmlFixturePath method along with the file name parameter and an html suffix.
* It returns the path to the fixture file which can then be used in the assert statement of the test.
*/
    getHTMLFixture: function(file_name) {
        var file_path = htmlFixturePath(callsites()[1].getFileName()) + '/' + file_name + '.html';
        return fs.readFileSync(file_path, 'utf8');
    }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#htmlFixturePath">htmlFixturePath</a></li><li><a href="global.html#jsonFixturePath">jsonFixturePath</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Thu Jun 14 2018 11:48:45 GMT+0100 (BST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
